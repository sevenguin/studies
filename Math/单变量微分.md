#单变量微分
MIT18.01课程笔记
##导数
###导数与变化率
####导数的几何解释
高中时的对切线的求法，m为切线斜率：
\\[
y-y_0 = m(x - x_0)\\\
在微积分里面,m=f^{'}(x_0),表示m是f在x_0处的导数\\\
m=\lim_{\nabla x\to0}{\nabla{f}\over\nabla{x}}=f^{'}(x_0)\ 
lim内的部分叫做差商（difference\ quotient）
\\]
intercept-截   
对于对角线上的镜像对称，可以对调（x,y）和(y,x),例如：
\\[
y={1\over{x}}
\\]
二项式定理：
\\[
(x+\nabla{x})^n = (x+\nabla{x})\cdot(x+\nabla{x})...(x+\nabla{x})
=x^n + n\cdot{x}^{n-1}\nabla{x}+O((\nabla{x})^2)\\\
{\nabla{f}\over\nabla{x}}={1\over\nabla{x}}\cdot((x+\nabla{x})^n - x^n)
={1\over\nabla{x}}(x^n + n\cdot{x}^{n-1}\nabla{x}+O((\nabla{x})^2)-x^n)
=n\cdot{x}^{n-1}
\\]
####变化率
\\[
{\nabla{y}\over\nabla{x}}是一种变化比率，或者平均变化率，在x上的平均变化\\\
\nabla{x}取极限后，{dy\over{dx}}就是瞬时变化率
\\]。
###极限和连续
####极限
简单极限      
导数是一种重要的极限    
\\[
左极限（x从负值逼近）x\to x_o^-(x<x_0)、右极限（x从正值逼近——从右边逼近）x\to x_o^+(x>x_0)
\\]
####连续
连续定义：
\\[f在x_0点连续，定义为x\to{x_0}时f(x)的极限等于f(x_0)\\]
一些不连续函数：
跳跃间断：左右极限存在但不相等    
左极限表示过去，右极限表示未来，是否连续意义重大    
可去间断：左右极限存在且相等，但是某处有个洞，即不等于某点本身的函数值    
无穷间断：两侧极限都趋于极值    
奇函数，求导奇函数后都会得到偶函数     
其他间断：其他种类的间断形式，没有左右极限等     
> 可导必连续
> \\[定理推导：\lim\_{x\to{x\_0}}{f(x)-f(x\_0)\over{x-x\_0}}(x-x\_0)
> \\]



###求导四则运算及三角函数求导
sinx 导数为 cosx
cosx 导数为 -sinx
通用的求导公式：   
\\[乘法法则：(uv)^\prime = u^\prime v + uv^\prime\\\
除法法则：({u\over{v}})^\prime = {u^\prime v-uv^\prime\over{v^2}}\\\
(cu)^\prime = cu^\prime\\\
(c+u)^\prime = u^\prime + c^\prime
\\]
###链式法则及高阶导数
链式法则是一个合成法则，符合函数代替简单的函数    
\\[f(g(x))^\prime=f(x)^\prime\cdot g(x)^\prime\\]
复合函数的导数是一个乘积    
高阶导数：不断的求导    
一阶导数、二阶导数...
\\[y^\prime, y^{\prime\prime}, y^{\prime\prime\prime}, y^{(4)}\\]
导数可以写成:
\\[{dy\over dx}={d\over dx}y，这里可以将{d\over dx}看做一个将原函数转换成导数函数的一个运算符——这就和线性代数里面投影和转换结合起来了\\\
有时候就用D来表示运算符{d\over dx},所以一些高阶表示方法：\\\
y^{\prime\prime} = {d\over dx}{du\over dx} = ({d\over dx^2}) u = {d^2u\over dx^2} = D^2y
\\]
\\[
D^n{x^n} = n!
\\]
###隐函数微分法和逆函数导数
例如：
\\[y^2+x^2=1 就是一个隐函数，隐式的表达y和x的关系\\\
y=±（1-x^2）^{1/2} 就是显式的函数\\]
隐函数微分方式就是不对等式做显式化，直接求导，例如：
\\[
x^2+y^2=1,求导\\\
2x + 2yy^\prime=0\\\
y^\prime = {-x\over y},y=\sqrt{1-x^2}
\\]

逆函数（反函数，inverse function）：
\\[对于原函数y=f(x), g(y)=x, g=f^{-1}, f=g^{-1},f和g互为逆函数\\]
逆函数和隐函数结合起来求逆函数的导数比较方便。直接对等式两边求导计算。
###指数与对数函数导数、对数微分法
\\[(a^x)^\prime=lna \cdot a^x\\\
(lnx)^\prime = {1\over x}
a^x的求导过程就是使用隐函数微分法，先通过e^x的导数等于e^x推导得到lnx的导数，\\\
然后对y=a^x两边取ln，然后两边求导，得到y^\prime
\\]
切线是导数的几何意义    
差商的极限其实就是导数，差商就是y的渐变量除以x的渐变量    
这种使用隐函数微分法求导的方法很管用，例如：    
\\[
y=tan^{-1}x，求y^\prime.\\\
则：转换一下，x=tany，直接对两边求导得到1=(tany)^\prime y^\prime，求得y^\prime
\\]
也可以逆向使用导数，例如：
\\[
\lim_{x \to 0}{e^x - 1\over x}\\\
上面这个相当于e^x在0处的导数，则极限值为1
\\]
##导数的应用
###线性和二阶近似
__线性近似公式：__
\\[f(x) \approx f(x_0) + f^\prime(x_0)(x-x_0)\\\
例如：ln(x) = ln(1) + ln^\prime(1)(x-1)=(x-1), ln^\prime(1)={1\over 1}\\\
{\nabla y\over\nabla x}=f^\prime(x_0),左边表示平均变化率；右边表示无穷小段的变化率，两者近似
\\]    
这个相似性可以简化函数，可以舍掉x^2的项，但是说是因为一阶本来就舍掉了一些，一阶近似就只算一次线性，二阶就算到二次。。    
__二阶线性近似公式：__
\\[f(x) \approx f(x_0) + f^\prime(x_0)(x-x_0) + {f^{\prime\prime}(x_0)\over{2}}(x-x_0)^2， x_0是基点\\]
在线性精确度不够时使用     
收敛速度：逼近极值的速度，f(x)-极值，对f(x)求二阶线性近似式，减去极值可以度量收敛速度    
首先用线性近似计算，如果精确度不够或者需要更多的信息，再使用二阶线性近似，丢掉更高阶。
###曲线构图（curve sketching）
\\[
if(f^\prime>0 )then f是递增；if(f^\prime<0)then f是递减\\\
if(f^{\prime\prime}>0) then f为凸函数；if(f^{\prime\prime}<0)then f为凹函数\\\
f^\prime(x_0)=0, x_0为驻点（critical point，临界点），驻点不一定是极值点，但是极值一定是驻点f在x0处的取值为驻点值
f^{\prime\prime}(x_0)=0,x_0处的点称为拐点。\\]
一些不连续点也需要注意，如函数：
\\[
f(x) = {x+1\over x+2}在x=-2时不连续，f(-2^+)=-\infty，f(-2^-)=+\infty
\\]
找到描点（描述函数图形的点）步骤：

1. 函数不连续、趋向无穷值的点；标出正负无穷远点（x为无穷大、小时）；标出那些容易求值的点
2. 求出驻点和其值
3. 标出函数一阶导数在每个以驻点和不连续点为端点的区间内的正负性，描述函数是否递增、递减
4. 观察函数二阶导的正负性（凹凸性）；求出拐点
5. 组合上面四步
###最值问题
找到最大值和最小值的关键是，找到驻点，无穷点和非连续点。根据一阶导数和二阶导数构思图形以及了解函数递增、递减、凹凸性等来求得最值。
###相关变率
例如雷达测速    
还是通过隐式函数微分来求得一些变化比率：dy/dx

###牛顿迭代法及应用
选一个初值，然后迭代计算，得出结果，例如：
\\[
x^2=5,求解x，用牛顿法来求得话，先构造函数f(x)=x^2-5,现在要求的就是f(x)=0\\\
所以选择初始点x=2,沿着点(2,-1)做切线（求导），f^\prime(2) =0,求出x_1，然后再把x_1作为新点\\\
继续上面步骤，这样迭代计算最后结果会越来越靠近真值。\\\
x_{n+1} = x_n - {f(x_n)\over f^\prime(x_n)}
\\]
牛顿方法的精度，误差分析：
\\[E_n = |x-x_n|\\]
牛顿方法在f(x)一阶导数值不是很小（这样切线很难和x轴相交），二阶导数值不是很大（很大则说明实际值可能离切线和x轴交叉值离得远）且x0初始值选取在实际值附近时会表现的很好。
牛顿法不适用的情况：像那种对称函数，选择初值之后很可能就迭代循环中，切线找到的点的切线的点可能就是第一个的点。
###中值定理（Mean Value Theorem-MVT）
\\[
{f(a) - f(b)\over a-b} = f^\prime(c), a<c<b, f(x)在a,b区间内连续可微\\\
就是一个区间内的平均值等于这个区间内某一瞬时的导数
\\]
几个推论：

1. 如果f一阶导数为正，则函数递增
2. 如果f一阶导数为负，则函数递减
3. 如果f一阶导数为0，则函数是常数

线性和中值定理的区别：
\\[
一阶线性：{\nabla y\over \nabla x} \approx f^\prime(x)\\\
中值定理：{\nabla y\over \nabla x} = f^\prime(x_i)
\\]
区别是一阶线性是约等于，中值定理是等于，而且一阶线性是均值约等于最大或最小的一阶导数值；中值定理均值等于最大最小中间某个值，而且一阶线性是x区间很小，而中值定理对区间大小没有要求。其实线性规则也是依照中值定理，因为中值的两个边界相差很近，所以均值也约等于极值。中值定理告诉了均值的范围——a和b点范围内的一阶函数的极大极小值之间（a点和b点不一定就是极大值极小值）。    
\\[
min(f^\prime)<={f(b)-f(a)\over b-a}=f^\prime(c)<=max(f^\prime), 
\\\a<=c<=b, max(f^\prime),min(f^\prime)都是a和b范围内的最大最小值。
\\]
__中值定理不能告诉具体c值。__    
不等式关系：
\\[
1. e^x > x + 1, x>0 (因为e^x-(x+1)>0)\\\
2. e^x > 1 + x + {x^2\over 2}, x>0,证明同上，其实可以到{x^n\over 2^n}
\\]
###无穷小量和不定积分
微分：
\\[
有一个函数y=f(x)，y的微分记做dy，它的定义是dy=f^\prime(x)dx——微分的记法\\\
dx除过去，就是莱布尼兹对于导数的记法：{dy\over dx}=f^\prime(x),把导数记做两个无穷小量的比\\\
y^\prime 牛顿记法
\\]
用微分求：
\\[
64.1^{1\over 3}\approx?\\\
64.1=y+dy,y = 64, dy=(x^{1\over 3})^\prime dx, x=64, dx=64.1-64=0.1\\\
计算方法有点类似线性近似公式中将基点x_0选为64\\\
反导数——积分符号——\int_0^{\frac{\pi}{2}}\qquad
\\]
不定积分是由于积分后，会跟一个常数，这个常数不一定，所以叫不定积分。不定积分通常会用到换元、猜测的方法来求。
###微分方程和分离变量
求方程：
\\[
({dy\over dx} + x)y = 0\\\
可以转换成{dy\over y} = -xdx,再同时对两边去不定积分
\\]
这种方法叫做__分离变量法__，这种方法适合于可以将式子转化为:
\\[{dy\over dx}=f(x)g(y)=>
{dy\over g(y)} = f(x)dx,两边再求不定积分
\\]
还可以通过隐式函数方式来求微分方程。可以通过导数和二阶导数的信息得到函数本身的信息。
##积分
###定积分
几何解释就是求出曲线下的面积；其他观点就是累积和。 
###微积分第一基本定理
\\[
\int_a^bf(x)dx = F(b) - F(a), F^\prime(x) = f(x)
\\]   
对于替换法，需要注意如果替换的函数u，u^\prime中间符号会发生变化，则将u分开几段计算，同一符号为一段。
\\[
F(b) - F(a) = \int_a^bf(x)dx, F^\prime(x) = f(x)\\\
通过f(x)=F^\prime(x)来理解F(x)\\\
均值定理：\nabla F = \int_a^bf(x)dx, \nabla F=F(b)-F(a)\\\
{\nabla F\over \nabla x} = {1\over b-a}\int_a^bf(x)dx=average F^\prime\cdot\nabla x 称为均值定理
\\]   
###微积分第二基本定理
已知一个函数f(x)，如果其实连续的，然后定义一个新函数\\[G(x)=\int_a^x f(t)dt\\],那么\\[G^\prime(x)=f(x)\\\
即：{d\int_a^x{f(t)dt}\over dx}=f(x)
\\]
需要给定G(x)的初值，才能确定a值，例如G(1)=0,则a=1,G(x)就确定了。
###定积分在对数和几何上的应用
\\[
y^\prime = {1\over x}, L(x)=\int_1^x{1\over t}dt,这可以看做对数的定义\\\
\\]
###壳层法、圆盘法求体积
将体积看做是平面图形绕x轴或y轴转一圈儿形成的物体，这样就可以求圆面积的积分，半径可能就是f(x)，需要主要是绕x转180度（函数本来就是x、y对称）或转360度（只在x、y轴一边出现）。
###平均值、概率
\\[
{1\over a-b}\int_a^bf(x)dx 叫做连续平均值
\\]	
加权平均值：
\\[
weighted average = {\int_a^bf(x)w(x)dx \over \int_a^bw(x)dx}
\\]
需要明白的是dx也是一个量，而不只是标记而已。     
曲线内的点在一个特定范围内的概率是，这个范围内的面积(积分)/曲线内总面积（整个范围的积分）：
\\[
a\le x_1 < x \le x_2，P(x_1<2<x_2)={\int_{x_1}^{x_2}w(x)dx \over \int_a^bw(x)dx}
\\]
###数值积分

###三角函数及三角替换
在计算\\[\int_a^bsin^nxcos^mxdx\\]时，按照m和n的奇偶将sinx和cosx转换成cos2x或者先选一个sinx或cosx和dx先积分。
半角公式：
\\[
cos2x=cos^2x-sin^2x，sin^2x + cos^2x = 1\\\
综合得到sin^2x={1-cos2x\over 2};\\qquad cos^2x = {1+cos2x\over 2}
\\]
这个公式可以用在上面的积分问题上
###反向变量替换、配方
几个三角函数公式：
\\[
sec = {1\over cos}; csc={1\over sin}\\\
tan = {sin \over cos}; ctn ={cos \over sin}\\\
sec^2 = 1 + tan^2; tan^\prime=sec^2\\\
sec^\prime=sec\cdot tan\\\
(tan^{-1}x)^\prime = {1\over 1+x^2}\\\
cos和sin在积分时经常可以和dx先进行积分得到dcosx或dsinx
\\]
如果求：
\\[
\int{x\over{\sqrt{1+x^2}dx}},可以将x替换成tan\theta，因为公式sec^2 = 1 + tan^2，然后再全部替换成sin\theta和cos\theta\\\
其实有一点，三角函数可以直接映射到直角三角形上，一个锐角为\theta，设定一条边是1，一条边是x，\\\
则斜边就是\sqrt{1+x^2},这样三角函数的各个函数值都可以用x表示，例如：tan\theta={1\over x}
\\]
将x替换成三角函数的一些情况：
\\[
\sqrt{a^2-x^2} => x=a\cdot cos\theta \qquad or \qquad x=a\cdot sin\theta\\\
\sqrt{a^2+x^2} => x=a\cdot tan\theta\\\
\sqrt{x^2-a^2} => x=a\cdot sec\theta\\]    
配方（completing the square）：    
在想进行三角函数替换时，可能函数式并没有想象那么容易替换，可能并不太规范。如：
\\[
y=\int{dx\over \sqrt{x^2+4x}}\\\
对于这种函数，可以将分子配方得到一个关于x的平方：\int{dx\over \sqrt{x^2+4x + 4 -4}}\\\
=>\int{dx\over \sqrt{(x+2)^2-4}}, u=x+2, u=2sec\theta
\\]
###部分分式
关注诸如：\\[{P(x)\over Q(x)}->有理函数、两个多项式的比的积分\\]，对于这种函数，一般使用部分分式，将P/Q拆分成一些可以积分的简单方式。    
例如：
\\[
{1\over x+1} + {3\over x-3}会很好积分，因为就是两个积分之和，直接取ln即可，但是如果将这两个合并：\\\
{4x-1 \over x^2 + x - 2}就会隐藏很深，不知道如何积分，所以讲这个转换容易积分的上面的形式很有用。
\\]    
几个方法：   
掩盖法，步骤：

1. 分母进行因式分解
2. 将分子拆分成分母的组合形式，转换成相加的问题，如上面的两个简单的分数函数相加
3. 求解相加的两个函数的积分
掩盖法的用处就是*快速*计算出拆分后的分子，如第二步结果如下：
\\[
{f(x)\over g(x)}={{a\over {g_1(x)}}+{b\over {g_2(x)}}}，左边是原方程，右边是转换后的方程\\\
掩盖法就是两边乘以g_1(x)或g_2(x)，以图迅速求得a、b两个变量的值。\\\
如果g^n(x)是幂次的，那拆分时就要逐次拆分，例如n-3，则需要：\\\
{a\over g(x)} + {b\over g^2(x)} + {c\over g^3(x)}     
\\]
掩盖发适用于Q(x)有不同的线性因子的情况，需要两个条件：分母可以被完全因式分解；*分子x的最高次数必须必分母小*。但是：
\\[
{x^2\over (x-1)(x^2+2)} = {A\over x-1} + {Bx+c\over (x^2+2)}\\\
计算的时候按照x^n的系数左右相等，也可以快速计算出A/B/C，如果分母包含三次方，可能因式分解不到位
\\]，需要主要。
如果分母的幂次低于分子，则使用*长除法*来将其转化成多个满足分母幂次高于分子的形式进行计算。
###分部积分法
integration by parts.
\\[
(uv)^\prime = u^\prime v+uv^\prime\\\
uv^\prime = (uv)^\prime - u^\prime v\\\
\int uv^\prime dx = uv - \int u^\prime v dx
\\]
用上面的式子求下面的积分：
\\[
\int lnx dx，u=lnx，u^\prime={1\over x}，v=x，v^\prime=1\\\
=>xlnx - \int{1\over x}xdx=xlnx-x
\\]
###参数方程、弧长和表面积
弧长：函数曲线中一段的长度，长度为：
\\[
(ds)^2 = (dx)^2 +(dy)^2，其实就是在dx极限情况下的三角形斜边\\\
=>ds = \sqrt{1 + ({dy \over dx})^2}dx,弧长就是：\\\
\int_a^b\sqrt{1 + ({dy \over dx})^2}dx=\int_a^b\sqrt{1 + (f^\prime(x))^2}dx，y=f(x)
\\]    
曲面面积（三维情况下的“弧长”），旋转面的面积。ds*圆面积：     
\\[
dA=\int_{x_1}^{x_2}2\pi yds
\\]    
参数方程，就是参数曲线，
\\[
x=x(t), y=y(t); t为参数，t如果表示时间，则表示什么时间处于什么位置（x,y）为坐标标示，例如：\\\
x=acost, y=asint, 这个就表示了圆
\\]
###极坐标和极坐标下的面积
polar coordinates(极坐标)    
不同于x,y来表示坐标，极坐标使用另外两个参数来表示位置：距离零点的距离；这条射线和极轴的夹角。    
\\[
x=a\cos\theta\\\
y=a\sin\theta\\\
需要注意在用a，\theta表示时，两个值的正负和\theta的大小（周期性）
\\]    
极坐标下的面积：
\\[
A=\int_a^b {1\over 2}r^2d\theta
\\]
###洛必达法则
洛必达法则，基础的定义：
\\[
\lim_{x\to a}{f(x)\over g(x)} = \lim\_{x \to a}{{f(x)\over x-a}\over{g(x)\over x-a}}={\lim\_{x \to a}{f(x) - f(a)\over x-a}\over \lim\_{x \to a}{g(x)-g(a)\over x-a}}={f^\prime(a)\over g^\prime(a)}, f(a)=g(a)=0，且右边的极限存在
\\]

\\[
\lim_{x\to a}{f(x)\over g(x)}=\lim\_{x\to a}{f^\prime(x)\over g^\prime(x)},a=+(-)\infty, f(a),g(a)\to +(-)\infty,洛必达法则也可以用。\\\
右边的的极限存在，即便右边的极限是趋向\infty也可以，只要不是震荡，洛必达法则就不会失效。\\\
例如这个，也可以用{e^{Px}\over x^100}=\infty\\\
法则应用于：{0\over0}或者{\infty\over\infty}，洛必达发在应用之前一定要看清楚，左边是不定形
\\]

例子：
\\[
\lim_{x\to 0^+}x^x,可以将x^x转化为e^{xlnx},而xlnx在x\to0时为0，则e^{xlnx}\to1 
\\]

###反常积分
奇点：函数无意义的点，例如1/x，x=0就是奇点。
任何一个积，被积函数的积分限跨越了奇点，则这个积分就是发散的，积分在奇点处无意义。
瑕积分
###无穷级数和收敛判定
几何级数:
\\[1+a + a^2 + a^3 .... = {1\over 1-a}, |a|<1时成立，a=-1时，0和1交替，不收敛\\]
部分和：
\\[
S_N = \sum_{n=0}^N a_n\\\
S=\sum\_{n=0}^\infty a_n = \lim\_{N\to\infty}S_N
\\]

注意我们的目的是处处理函数的尾部（极限部分的值），所以从哪里开始计算并不是那么重要    
一些例子：
\\[
\sum_{n=1}^\infty{1\over n^2}={\pi^2\over6}\\\
\\]

对于无穷级数收敛的判断，可以将其映射到积分问题，例如：
\\[
几何级数S_N=1 + {1\over 2} + .... + {1\over N}\\\
\nabla x= 1，f(x)={1\over x}黎曼上和为Upper=1+{1\over 2} + ... + {1\over N-1}\\\
黎曼下和Lower={1\over 2} + {1\over 3} + ... + {1\over N}，根据f(x)的几何图像能看出来如下等式：\\\
Upper<S_N（因为少了个{1\over N}，而Upper>\int_1^N f(x)，所以S_N>\int_1^N f(x)=lnx\\\
Lower>S_N-1，而Lower<\int_1^N f(x),所以S_N<\int_1^N f(x) + 1=lnx + 1
\\]
	
上面就是利用积分问题（积分相对求和来的容易）来解决无穷级数问题。有：
\\[
如果f(x)是递减函数，而且是正的，\sum_1^\infty f(x)dx-\int_1^\infty f(x)dx<f(1)
\\]
和式和积分同时收敛或发散。

极限比较
无穷级数之间的收敛性比较也可以将复杂的无穷级数转化成同收敛性的简单的无穷级数来解决，无穷级数有下面的说法：
如果f(n)等价于g(n),即f(n)/g(n)趋向于1，当n趋向无穷大时，f(n)和g(n)都是正数。f(n)和g(n)同收敛，同发散。
###泰勒级数

